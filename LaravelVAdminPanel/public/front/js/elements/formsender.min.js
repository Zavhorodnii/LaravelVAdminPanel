"use strict";document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("form");function t(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function n(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}function r(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}e&&e.addEventListener("submit",(async function(e){e.preventDefault();let o=function(e){let o=0,c=document.querySelectorAll("._req");for(let e=0;e<c.length;e++){const i=c[e];n(i),i.classList.contains("_email")?r(i)&&(t(i),o++):("checkbox"===i.getAttribute("type")&&!1===i.checked||""===i.value)&&(t(i),o++)}return o}();new Event("click");const c=document.getElementById("popup"),i=document.getElementById("popup2");0===o&&i&&(c.classList.remove("open"),i.classList.add("open"))}));const o=document.getElementById("formImage"),c=document.getElementById("formPreview");o&&o.addEventListener("change",()=>{!function(e){if(!["image/jpeg","image/png","image/gif"].includes(e.type))return alert("Разрешены только изображения."),void(o.value="");if(e.size>2097152)return void alert("Файл должен быть менее 2 МБ.");var t=new FileReader;t.onload=function(e){c.innerHTML=`<img src="${e.target.result}" alt="Фото">`},t.onerror=function(e){alert("Ошибка")},t.readAsDataURL(e)}(o.files[0])})}));
//# sourceMappingURL=formsender.min.js.map
